# Reporte ETL - Analítica de Riesgo Crediticio

## Información General
- **Fecha de ejecución**: 2025-10-15 15:43:22
- **Archivo fuente**: ../data/raw/credit_risk_dataset.csv
- **Archivo destino**: ../data/processed/clean_data.csv

## Resumen del Procesamiento

### Datos Originales
- **Filas**: 5,000
- **Columnas**: 12
- **Tipo**: Dataset sintético de riesgo crediticio

### Datos Procesados
- **Filas finales**: 5,000
- **Columnas finales**: 19
- **Retención de filas**: 100.0%
- **Nuevas variables**: 7

## Variables Target Creadas

### default_flag - Modelo PD (Probability of Default)
- **Tipo**: Binaria (0/1)
- **Default**: 1,238 registros (24.8%)
- **No Default**: 3,762 registros (75.2%)
- **Tasa de default**: 24.76%

### lgd_estimate - Modelo LGD (Loss Given Default)
- **Tipo**: Continua (0.0-1.0)
- **Basada en**: loan_grade (A=0.1, B=0.2, ..., G=0.7)
- **Uso**: Estimación de pérdida en caso de default

### ead_amount - Modelo EAD (Exposure at Default)
- **Tipo**: Continua (monto en USD)
- **Basada en**: loan_amnt
- **Uso**: Exposición al momento del default

## Variables Derivadas para Dashboard

### Variables de Segmentación
- **age_group**: 5 categorías (18-25, 26-35, 36-50, 51-65, 65+)
- **income_bracket**: 3 categorías (Low ≤50K, Medium ≤100K, High >100K)
- **person_home_ownership**: 4 categorías

### Variables KPI
- **risk_score**: Score 0-100 basado en grade, historial, tasa de interés
- **debt_to_income_ratio**: Ratio préstamo/ingreso
- **loan_to_income_ratio**: Monto préstamo/ingreso anual
- **monthly_payment_estimate**: Estimación pago mensual

## Calidad de Datos

### Validaciones Completadas
- ✓ **Valores faltantes**: 0 encontrados
- ✓ **Duplicados**: Verificación completada
- ✓ **Tipos de datos**: Validados y convertidos
- ✓ **Rangos de valores**: Dentro de parámetros esperados

### Distribución de Variables Clave
- **Edad promedio**: 46.1 años
- **Ingreso promedio**: $110,981
- **Monto préstamo promedio**: $20,469
- **Tasa interés promedio**: 14.28%

## Archivos Generados

### Datos Principales
- `../data/processed/clean_data.csv`: Dataset limpio principal
- `../data/processed/clean_data_20251015_154313.csv`: Dataset versionado con timestamp
- `../data/processed/dashboard_data.csv`: Dataset optimizado para dashboard

### Logs y Metadatos
- `../logs/etl_*.log`: Log detallado de ejecución
- Schema JSON actualizado con nuevas variables

## Preparación para Dashboard

### Variables Listas para Visualización
1. **KPIs Principales**:
   - Tasa de Default por segmento
   - Score de Riesgo promedio
   - Distribución de LGD/EAD

2. **Segmentaciones**:
   - Por grupo etario
   - Por bracket de ingresos
   - Por tipo de propiedad
   - Por intención del préstamo

3. **Análisis Temporales**:
   - Variables con timestamp de procesamiento
   - Listas para análisis de tendencias

4. **Métricas Financieras**:
   - Ratio deuda/ingreso
   - Estimación pagos mensuales
   - Distribución de montos

## Próximos Pasos

1. **EDA - Análisis Exploratorio**:
   - Ejecutar notebook 02_eda.ipynb
   - Análisis de correlaciones y patrones
   - Identificación de segmentos de riesgo

2. **Modelado Dimensional**:
   - Revisar sql/modelado_decision.md
   - Implementar esquema estrella para BI
   - Crear vistas analíticas

3. **Dashboard Development**:
   - Usar dashboard_data.csv como fuente
   - Implementar KPIs identificados
   - Crear filtros por segmentación

4. **Entrenamiento de Modelos**:
   - Modelo PD: src/riskvista/models/train_pd.py
   - Modelo LGD: variables lgd_estimate
   - Modelo EAD: variables ead_amount

## Conclusiones

✅ **ETL COMPLETADO EXITOSAMENTE**

- Se procesaron 5,000 registros válidos
- Se crearon 7 variables derivadas específicas para analítica de riesgo
- Datos preparados para dashboard con variables de segmentación y KPIs
- Calidad de datos validada y documentada
- Variables target PD/LGD/EAD listas para modelado

**Estado**: LISTO PARA EDA Y DASHBOARD
